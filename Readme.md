# 地球惑星物理学演習
これは [MkDocs](https://www.mkdocs.org/) で作成された [地球惑星物理学演習ウェブ](https://chibutsu-utokyo.github.io/) のリポジトリです．  
Markdown形式で記述したファイルをWebページに自動で変換してくれます．

> [!NOTE]
> - このウェブを編集するには管理者に権限をリクエストしてください．
> - Markdown形式についてはウェブに情報が多数ありますので適宜調べてくだい．

## ウェブ更新方法

### VSCode起動方法
ウェブ上でVSCodeを使って編集ができます．
[ここ](https://github.com/chibutsu-utokyo/debian)
を参考にmainブランチからVSCodeを起動してください．  
必要なソフトウェア（mkdocs, mkdocs-material, pygments）は既にインストール済みです．

### ファイル群の説明
`main`ブランチ下の`docs`ディレクトリにはMkDocsを用いてGitHub Pagesの
ページを作成するために必要なファイル群が入っています．  
基本的には`docs`ディレクトリ下に配置されているMarkdown形式のファイルを
編集してください．

### 編集作業
ターミナルで，リポジトリのトップディレクトリ（`mkdocs.yml`がある階層）において
```shell
mkdocs serve
```
とすると画面右下にダイアグラムが表示され，「ブラウザで開く」をクリックすると
編集中のウェブサイトが表示されます．  
編集結果はリアルタイムに反映されます．  
終了するには`Ctrl+C`としてください．  
（VSCodeのターミナルペインの「ポート」タブに表示される8000番ポートの
URLからもアクセスすることができます．）

新しいMarkdownファイルを追加した際には，`mkdocs.yml`内の`nav:`の
項目を書き換えると，サイト左のメニューバーに表示されるようになります．

### 更新
編集内容を更新は以下の手順で行ってください．
 **ウェブサイトの更新だけでなくソースの更新も必ず行ってください！**

- ウェブサイトの更新
```shell
mkdocs gh-deploy
```
で https://chibutsu-utokyo.github.io/ に（数分程度で）更新が反映されます．  
(`mkdocs build` で更新される `site` ディレクトリの中身が `gh-pages` 
ブランチにpushされます．)
- ソースの更新
```shell
git commit -a # コミットメッセージを入力
git push
```
でリポジトリにソースの更新が反映されます．
コミットメッセージはごく簡単なものでよいと思います．  
（更新内容が `main` ブランチにpushされます．）
